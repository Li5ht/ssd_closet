<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.jpetstore.dao.mybatis.mapper.AuctionMapper">
  <cache />
  
  	<insert id="insertAuction">
		INSERT ALL 
		INTO PRODUCT (PRODUCTID, USERID, CATEGORYID, NAME, DESCRIPTION, TYPE,
		STATUS, REGISTERDATE, PERIOD, COLOR, "size",
		PICTURE1, PICTURE2, PICTURE3, PICTURE4)
		VALUES (#{productId}, #{userId}, #{categoryId}, #{name}, #{description}, #{type},
		#{status}, #{registerDate}, #{period}, #{color}, #{size},
		#{picture1}, #{picture2}, #{picture3}, #{picture4})
	    INTO AUCTION
		(PRODUCTID, STARTPRICE, USED)
		VALUES (#{productId}, #{startPrice},
		#{used}})
		SELECT *
		FROM DUAL;
	</insert>

    <select id="getAuctionDetail" resultType="Auction">
		SELECT p.PRODUCTID, p.NAME, p.COLOR, p.SIZE, p.DESCRIPTION, p.CATEGORYID, a.STARTPRICE, a.USED
		FROM PRODUCT p, AUCTION a
		WHERE PRODUCTID = #{productId} AND p.productId = a.productId
    </select>
    
  
 </mapper>