<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.jpetstore.dao.mybatis.mapper.AuctionMapper">
  <cache />
  
  	<insert id="insertAuctionProduct">
		INSERT ALL INTO PRODUCT (PRODUCTID, USERID, CATEGORYID, NAME,
		DESCRIPTION, TYPE,
		STATUS, REGISTERDATE, PERIOD, COLOR, "size",
		PICTURE1, PICTURE2, PICTURE3, PICTURE4)
		VALUES (#{productId}, #{userId},
		#{categoryId}, #{name}, #{description}, #{type},
		#{status},
		#{registerDate}, #{period}, #{color}, #{size},
		#{picture1},
		#{picture2}, #{picture3}, #{picture4})
	    INTO AUCTION
		(PRODUCTID, STARTPRICE, USED)
		VALUES (#{productId}, #{startPrice},
		#{used}})
		SELECT *
		FROM DUAL;
	</insert>
  
   <insert id="createAuction" parameterType="Auction">
    INSERT INTO AUCTION PRODUCTID, USERID, STARTPRICE, USED)
    VALUES (#{productId}, #{userId}, #{startPrice}, #{used})
  </insert>
  
<!--   옥션 상품 검색할 때 활용해주세요 -->
<!--   	<select id="getProductDetail" resultType="Product"> -->
<!-- 		SELECT -->
<!-- 		PRODUCTID, -->
<!-- 		NAME, -->
<!-- 		description, -->
<!-- 		categoryId -->
<!-- 		FROM PRODUCT -->
<!-- 		WHERE PRODUCTID -->
<!-- 		= #{productId} -->
<!-- 	</select> -->
  
  <delete id="deleteAuction" parameterType="java.lang.Integer">
    DELETE FROM AUCTION WHERE PRODUCTID = #{productId}
  </delete>
  
  
 </mapper>